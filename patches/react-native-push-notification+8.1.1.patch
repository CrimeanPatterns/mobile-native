diff --git a/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationActions.java b/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationActions.java
index ada9603..39bdd64 100644
--- a/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationActions.java
+++ b/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationActions.java
@@ -1,24 +1,28 @@
 package com.dieam.reactnativepushnotification.modules;

+import static com.dieam.reactnativepushnotification.modules.RNPushNotification.KEY_TEXT_REPLY;
+import static com.dieam.reactnativepushnotification.modules.RNPushNotification.LOG_TAG;
+
+import android.annotation.SuppressLint;
 import android.app.Application;
 import android.app.NotificationManager;
 import android.content.BroadcastReceiver;
 import android.content.Context;
 import android.content.Intent;
+import android.os.Build;
 import android.os.Bundle;
 import android.os.Handler;
 import android.os.Looper;
 import android.util.Log;

+import androidx.core.app.RemoteInput;
+
 import com.facebook.react.ReactApplication;
 import com.facebook.react.ReactInstanceManager;
 import com.facebook.react.bridge.ReactContext;
-import androidx.core.app.RemoteInput;
-
-import static com.dieam.reactnativepushnotification.modules.RNPushNotification.LOG_TAG;
-import static com.dieam.reactnativepushnotification.modules.RNPushNotification.KEY_TEXT_REPLY;

 public class RNPushNotificationActions extends BroadcastReceiver {
+    @SuppressLint("MissingPermission")
     @Override
     public void onReceive(final Context context, Intent intent) {
       String intentActionPrefix = context.getPackageName() + ".ACTION_";
@@ -62,7 +66,9 @@ public class RNPushNotificationActions extends BroadcastReceiver {

           helper.invokeApp(bundle);

-          context.sendBroadcast(new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS));
+          if (Build.VERSION.SDK_INT < Build.VERSION_CODES.S) {
+              context.sendBroadcast(new Intent(Intent.ACTION_CLOSE_SYSTEM_DIALOGS));
+          }
       } else {

         // We need to run this on the main thread, as the React code assumes that is true.
diff --git a/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationHelper.java b/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationHelper.java
index 248ff08..b129251 100644
--- a/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationHelper.java
+++ b/node_modules/react-native-push-notification/android/src/main/java/com/dieam/reactnativepushnotification/modules/RNPushNotificationHelper.java
@@ -330,7 +330,7 @@ public class RNPushNotificationHelper {
             }

             if (smallIconResId == 0) {
-                smallIconResId = res.getIdentifier("ic_launcher", "mipmap", packageName);
+                smallIconResId = res.getIdentifier("icon_notification", "drawable", packageName);

                 if (smallIconResId == 0) {
                     smallIconResId = android.R.drawable.ic_dialog_info;
@@ -489,8 +489,10 @@ public class RNPushNotificationHelper {

             Long when = (long) bundle.getDouble("when");

-            if (when != null && when >= 0) {
+            if (when != null && when > 0) {
               notification.setWhen(when);
+            } else {
+              notification.setWhen(System.currentTimeMillis());
             }

             notification.setUsesChronometer(bundle.getBoolean("usesChronometer", false));
